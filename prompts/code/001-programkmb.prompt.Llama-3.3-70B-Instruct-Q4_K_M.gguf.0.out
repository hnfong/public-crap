```java
import java.util.Scanner;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        String input = scanner.nextLine();

        double totalSum = 0;

        Pattern pattern = Pattern.compile("\\d{1,3}(,\\d{3})*\\.?\\d*([kKmMgG])?");
        Matcher matcher = pattern.matcher(input);

        while (matcher.find()) {
            String match = matcher.group();
            String number = match.replaceAll(",", "");
            double value = Double.parseDouble(number.replaceAll("[kKmMgG]", ""));
            char suffix = match.charAt(match.length() - 1);

            double multiplier = 1;
            switch (suffix) {
                case 'k':
                case 'K':
                    multiplier = 1024;
                    break;
                case 'm':
                case 'M':
                    multiplier = Math.pow(1024, 2);
                    break;
                case 'g':
                case 'G':
                    multiplier = Math.pow(1024, 3);
                    break;
            }

            if (Character.isLetter(suffix)) {
                totalSum += value * multiplier;
            } else {
                totalSum += value;
            }
        }

        System.out.println(totalSum);
        System.out.println(totalSum / 1024 + " K");
        System.out.println(totalSum / Math.pow(1024, 2) + " M");
        System.out.println(totalSum / Math.pow(1024, 3) + " G");
    }
}
``` [end of text]


