==========
<!DOCTYPE html><html><head><style>body{margin:0;padding:20px;font-family:Arial}.card{width:60px;height:80px;border:1px solid #000;border-radius:5px;position:absolute;cursor:pointer}.card-back{background:#00f}.card-front{background:#fff;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:bold}.pile{width:70px;height:90px;border:2px dashed #ccc;border-radius:5px;position:absolute}.controls{position:fixed;bottom:20px;left:50%;transform:translateX(-50%)}</style></head><body><div id="game"></div><div class="controls"><button onclick="newGame()">New Game</button></div><script>const SUITS=['♠','♥','♦','♣'];const RANKS=['A','2','3','4','5','6','7','8','9','10','J','Q','K'];const CARD_VALUES={'A':1,'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'10':10,'J':11,'Q':12,'K':13};const COLORS={'♠':'black','♣':'black','♥':'red','♦':'red'};let deck=[];let piles=[];let selectedCard=null;let selectedPile=null;function createDeck(){deck=[];for(const suit of SUITS)for(const rank of RANKS)deck.push({suit,rank,value:CARD_VALUES[rank],color:COLORS[suit]})}function shuffleDeck(){for(let i=deck.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[deck[i],deck[j]]=[deck[j],deck[i]]}}function newGame(){createDeck();shuffleDeck();piles=[];selectedCard=null;selectedPile=null;renderGame()}function renderGame(){const gameDiv=document.getElementById('game');gameDiv.innerHTML='';for(let i=0;i<7;i++){const pile={cards:[],x:20+i*90,y:20};piles.push(pile);const pileDiv=document.createElement('div');pileDiv.className='pile';pileDiv.style.left=pile.x+'px';pileDiv.style.top=pile.y+'px';pileDiv.onclick=()=>selectPile(i);gameDiv.appendChild(pileDiv);for(let j=0;j<=i;j++){const card=deck.pop();card.faceUp=j===i;pile.cards.push(card);renderCard(card,pile.x,pile.y+j*20,i)}}document.getElementById('game').addEventListener('click',handleCardClick)}function renderCard(card,x,y,pileIndex){const cardDiv=document.createElement('div');cardDiv.className='card';cardDiv.style.left=x+'px';cardDiv.style.top=y+'px';cardDiv.dataset.pileIndex=pileIndex;cardDiv.dataset.cardIndex=pile.cards.indexOf(card);if(card.faceUp){cardDiv.classList.add('card-front');cardDiv.innerHTML=`<span style="color:${card.color}">${card.rank}${card.suit}</span>`}else{cardDiv.classList.add('card-back')}cardDiv.onclick=()=>selectCard(pileIndex,cardDiv.dataset.cardIndex);document.getElementById('game').appendChild(cardDiv)}function selectCard(pileIndex,cardIndex){const pile=piles[pileIndex];const card=pile.cards[cardIndex];if(!card.faceUp)return;if(selectedCard&&selectedPile===pileIndex&&selectedCardIndex==cardIndex){deselectCard();return}if(selectedCard){if(canMoveCard(selectedCard,pileIndex,cardIndex)){moveCard(selectedPile,selectedCardIndex,pileIndex,cardIndex)}deselectCard()}else{selectedCard=card;selectedPile=pileIndex;selectedCardIndex=cardIndex;highlightCard(pileIndex,cardIndex)}}function selectPile(pileIndex){if(selectedCard&&selectedPile!==pileIndex){if(canMoveCard(selectedCard,pileIndex,piles[pileIndex].cards.length)){moveCard(selectedPile,selectedCardIndex,pileIndex,piles[pileIndex].cards.length)}deselectCard()}}function canMoveCard(card,targetPileIndex,cardIndex){const targetPile=piles[targetPileIndex];if(targetPile.cards.length===0)return card.rank==='K';const topCard=targetPile.cards[targetPile.cards.length-1];return card.color!==topCard.color&&card.value===topCard.value-1}function moveCard(fromPileIndex,fromCardIndex,toPileIndex,toCardIndex){const fromPile=piles[fromPileIndex];const toPile=piles[toPileIndex];const cardsToMove=fromPile.cards.splice(fromCardIndex);toPile.cards.push(...cardsToMove);if(fromPile.cards.length>0){const lastCard=fromPile.cards[fromPile.cards.length-1];lastCard.faceUp=true}renderGame()}function deselectCard(){selectedCard=null;selectedPile=null;selectedCardIndex=null;document.querySelectorAll('.card').forEach(card=>card.style.outline='')}function highlightCard(pileIndex,cardIndex){const cardDiv=document.querySelector(`[data-pile-index="${pileIndex}"][data-card-index="${cardIndex}"]`);if(cardDiv)cardDiv.style.outline='2px solid yellow'}function handleCardClick(e){if(e.target.classList.contains('card')){const pileIndex=parseInt(e.target.dataset.pileIndex);const cardIndex=parseInt(e.target.dataset.cardIndex);selectCard(pileIndex,cardIndex)}}newGame()</script></body></html>
==========
Prompt: 151 tokens, 339.173 tokens-per-sec
Generation: 1211 tokens, 50.539 tokens-per-sec
Peak memory: 60.539 GB
