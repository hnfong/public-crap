<think>

</think>
<!DOCTYPE html><html><head><title>Card Solitaire</title></head><body><canvas id="canvas" width="400" height="400"></canvas><script>const c=document.getElementById('canvas'),ctx=c.getContext('2d'),w=c.width,h=c.height,grid=[],cards=[],score=0,flipped=false,flippedCards=[],gameOver=false;function drawGrid(){for(let i=0;i<4;i++){for(let j=0;j<4;j++){ctx.fillStyle='white';ctx.fillRect(j*w/4,i*h/4, w/4,h/4);ctx.strokeStyle='black';ctx.strokeRect(j*w/4,i*h/4, w/4,h/4);}}}function drawCard(x,y,card){ctx.fillStyle=card.color;ctx.fillRect(x,y, w/4,h/4);ctx.strokeStyle='black';ctx.strokeRect(x,y, w/4,h/4);ctx.fillStyle='white';ctx.fillRect(x+2*w/8,y+2*h/8, w/4/2,h/4/2);ctx.strokeStyle='black';ctx.strokeRect(x+2*w/8,y+2*h/4, w/4/2,h/4/2);ctx.fillStyle='black';ctx.fillRect(x+2*w/8,y+2*h/8, w/4/2,h/4/2);ctx.strokeStyle='black';ctx.strokeRect(x+2*w/8,y+2*h/4, w/4/2,h/4/2);}function shuffle(array){for(let i=array.length-1;i>0;i--){let j=Math.random()*i|0;[array[i],array[j]]=[array[j],array[i]]}return array}function init(){grid=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];cards=shuffle([...Array(16).keys()].map(i=>`C${i}`));for(let i=0;i<16;i++){let x=i%4,y=i/4;grid[x][y]=cards[i];drawCard(x*w/4,y*h/4,grid[x][y]);}drawGrid();}function flipCard(x,y){if(grid[x][y]==0)return;let card=grid[x][y];if(flippedCards.length>0&&flippedCards[flippedCards.length-1]==card)return;flippedCards.push(card);grid[x][y]=0;drawCard(x*w/4,y*h/4,card);if(flippedCards.length==2){let a=flippedCards[0],b=flippedCards[1];if(a[0]==b[0]||a[1]==b[1]){flippedCards=[];grid[x][y]=a;grid[x][y+1]=b;score++;drawCard(x*w/4,y*h/4,a);drawCard((x+1)*w/4,y*h/4,b);}}}function restart(){init();flipped=false;flippedCards=[];score=0;gameOver=false;drawGrid();}function gameOverCheck(){if(grid.every(row=>row.every(c=>c==0))){alert('You won! Score: '+score);restart();}}init();setInterval(()=>{if(!gameOver&&!flippedCards.length&&!flipped&&!grid.some(row=>row.some(c=>c!=0))){gameOver=true;alert('Game Over! Score: '+score);restart();}},1000);document.onkeydown=e=>{if(!gameOver&&!flipped&&!flippedCards.length){switch(e.keyCode){case 37:flipCard(3,0);break;case 38:flipCard(0,3);break;case 39:flipCard(1,0);break;case 40:flipCard(0,1);break;}}}}</script></body></html> [end of text]


