<!DOCTYPE html><html><body><canvas id="c" width="800" height="600"></canvas><script>const ctx=c.getContext('2d');const suits=['♠','♥','♦','♣'];const ranks=['2','3','4','5','6','7','8','9','10','J','Q','K','A'];let deck=[],playerHand=[],communityCards=[],gameState='deal';let pot=0,playerChips=1000,bet=10;function createDeck(){deck=[];for(let s of suits)for(let r of ranks)deck.push({s,r,v:r==='A'?14:r==='K'?13:r==='Q'?12:r==='J'?11:parseInt(r)});for(let i=deck.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[deck[i],deck[j]]=[deck[j],deck[i]]}}function deal(){if(deck.length<10)createDeck();playerHand=deck.splice(0,2);communityCards=deck.splice(0,5);gameState='showdown'}function evaluateHand(cards){const sorted=[...cards].sort((a,b)=>b.v-a.v);const flush=suits.filter(s=>cards.filter(c=>c.s===s).length>=5).length>0;const ranks=sorted.map(c=>c.v);let straight=true;for(let i=0;i<4;i++)if(ranks[i]-ranks[i+1]!==1)straight=false;if(!straight&&ranks[0]===14&&ranks[1]===5&&ranks[2]===4&&ranks[3]===3&&ranks[4]===2){straight=true;ranks=[5,4,3,2,1]}const counts={};ranks.forEach(v=>counts[v]=(counts[v]||0)+1);const vals=Object.values(counts).sort((a,b)=>b-a);let score=0;if(flush&&straight)score=800+sorted[0].v;else if(vals[0]===4)score=700+Object.keys(counts).find(k=>counts[k]===4);else if(vals[0]===3&&vals[1]===2)score=600+Object.keys(counts).find(k=>counts[k]===3);else if(flush)score=500+sorted[0].v;else if(straight)score=400+ranks[0];else if(vals[0]===3)score=300+Object.keys(counts).find(k=>counts[k]===3);else if(vals[0]===2&&vals[1]===2)score=200+Object.keys(counts).find(k=>counts[k]===2);else if(vals[0]===2)score=100+Object.keys(counts).find(k=>counts[k]===2);else score=0;return {score,cards:sorted}}function draw(){ctx.fillStyle='#060';ctx.fillRect(0,0,800,600);ctx.fillStyle='#fff';ctx.font='24px Arial';ctx.fillText(`Pot: $${pot}`,350,50);ctx.fillText(`Your Chips: $${playerChips}`,50,50);ctx.fillText(`Bet: $${bet}`,650,50);ctx.fillText(gameState==='deal'?'Press SPACE to deal':'Press SPACE to deal again',280,550);ctx.font='20px Arial';playerHand.forEach((c,i)=>{ctx.fillStyle=c.s==='♥'||c.s==='♦'?'#f88':'#fff';ctx.fillText(`${c.r}${c.s}`,100+i*80,300)});communityCards.forEach((c,i)=>{ctx.fillStyle=c.s==='♥'||c.s==='♦'?'#f88':'#fff';ctx.fillText(`${c.r}${c.s}`,300+i*60,400)});if(gameState==='showdown'){const pScore=evaluateHand([...playerHand,...communityCards]);ctx.fillStyle='#ff0';ctx.fillText(`Score: ${pScore.score}`,300,450)}}document.onkeydown=e=>{if(e.code==='Space'){if(gameState==='deal'||gameState==='showdown'){gameState='deal';pot=0;playerChips-=bet;deal();gameState='showdown';pot+=bet*2;playerChips+=bet*2}}};createDeck();draw();</script></body></html> [end of text]


