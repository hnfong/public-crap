<think>
We are creating a single-player poker game (Texas Hold'em) that runs in the browser with vanilla JavaScript.
 The game will have the following steps:
 1. Setup: Create a deck of 52 cards, shuffle, and deal two hole cards to the player and two to the dealer (face down).
 2. Betting round: The player can check, bet, fold, or call.
 3. Community cards: Deal 5 community cards in stages (flop, turn, river).
 4. Final betting round: Again, the player can check, bet, fold, or call.
 5. Determine the winner: Compare the player's hand (best 5-card hand from 7 cards) with the dealer's hand.

 However, note that the requirement is to be concise and save tokens. We'll have to keep the code as short as possible.

 We'll break down the steps:

 - We need to represent a deck of cards. Each card has a suit and a rank.
 - We need to shuffle the deck.
 - We need to deal cards.
 - We need to evaluate hands.

 Since the code must be concise, we'll use minimal variable names and functions.

 Steps in the game:

 1. Create a deck of 52 cards.
 2. Shuffle the deck.
 3. Deal two cards to the player and two to the dealer (for simplicity, we'll assume the dealer is the house and we don't have multiple players).
 4. Then deal the flop (3 community cards), then the turn (1), then the river (1).
 5. The player and dealer each form the best 5-card hand from their hole cards and the community cards.

 We'll implement a simple version without betting mechanics (since the requirement is to be concise and we don't have a backend for money) but with the core game.

 However, note: the hard requirement is a standard poker game. We must have at least the betting rounds and hand evaluation.

 But to keep it concise, we might skip the actual betting amounts and just have the actions (check, bet, fold, call). We'll need to simulate the dealer's actions as well, but for simplicity, we can assume the dealer always calls or we can have a fixed dealer behavior.

 Let's design:

 - We'll have a fixed small blind and big blind, but for simplicity, we can set them to fixed values (e.g., 10 and 20) and the player starts with a fixed amount (e.g., 1000).
 - The player can choose to check, bet, fold, or call. We'll simulate the dealer's turn by having the dealer either fold or call (if the player bets, the dealer calls with a fixed amount, and then we show the hands).

 But note: the requirement is to be a standard poker game. We must have the community cards and the hand evaluation.

 We'll do:

 1. Player and dealer both have 2 hole cards.
 2. Then 3 community cards (flop), then 1 (turn), then 1 (river).
 3. After each community card deal, a betting round.

 However, to keep it very concise, we might not implement the full betting rounds with multiple actions and raising. We can do a simple version:

 - Pre-flop: Player acts first. If player bets, dealer calls (with a fixed amount). Then we show the flop and another betting round (dealer acts first). Then turn and river, and final betting round.

 But note: the requirement is for a single-player game, so we don't have multiple players. We can simulate the dealer as a fixed opponent.

 Steps:

 1. Create deck, shuffle, deal.
 2. Pre-flop betting round: Player can check, bet, or fold. If player bets, dealer calls.
 3. Flop: Deal 3 community cards. Then betting round (dealer acts first, then player). We can assume dealer always calls if player bet, and if player checked, dealer can check or bet. But to keep it simple, let's say:

    - If player bets, dealer calls (with a fixed amount, say 20 if player bets 20).
    - If player checks, dealer can check or bet. We'll let the dealer bet with a fixed amount (say 20) if the player checked.

 4. Turn and River similarly.

 5. Then evaluate the hands.

 However, note that the requirement is to be concise and we are token-poor. We must write the code in a very compact way.

 We'll create:

 - A function to create a deck.
 - A function to shuffle.
 - A function to deal cards.
 - A function to evaluate a hand (given 7 cards, return the best 5-card hand and its rank).

 But note: we are only comparing two hands (player and dealer). We can evaluate both and then compare.

 We'll need to map hand ranks to their strength.

 Let's define hand rankings (from highest to lowest):

 1. Royal Flush
 2. Straight Flush
 3. Four of a Kind
 4. Full House
 5. Flush
 6. Straight
 7. Three of a Kind
 8. Two Pair
 9. One Pair
 10. High Card

 We'll assign a numeric value to each hand for comparison.

 Steps:

 1. Create deck: array of 52 cards. Each card is { suit: 'H', rank: '2' } etc.
 2. Shuffle: using Fisher-Yates.
 3. Deal: two to player, two to dealer, then three to community, then one, then one.
 4. Betting rounds: we'll have a simple betting system. We'll set blinds and then let the player act.

 However, note: the requirement is to be concise. We might not implement the full betting rounds with multiple streets and player decisions for each street. We can do:

 - Pre-flop: player acts (check or bet). If player bets, dealer calls. Then we show the flop and have a betting round (dealer acts first, then player). Similarly for turn and river.

 But to keep it even more concise, we can have the player and dealer both act in a fixed way for the purpose of this game? Or we can let the player choose and the dealer always fold if the player bets and the dealer doesn't have a good hand? But that would require hand evaluation during the dealer's turn.

 Alternatively, we can have a fixed betting round: the player must bet a certain amount, and the dealer must call that amount. But then we don't have the option to check.

 Let's simplify:

 - We'll have a fixed blind structure: small blind (10) and big blind (20). The player posts the small blind, the dealer posts the big blind.
 - Then the player can fold, or call the big blind (if they haven't already called) or raise. But to keep it very concise, we can have:

    - Pre-flop: player can fold or call (with a fixed raise, say double the big blind). Then if player calls, we show the flop and have another betting round (dealer can fold or call, and then player again). But note: the dealer is the house and we are simulating, so we can have the dealer always call if the player bets? Or we can have the dealer fold with a certain probability? But that would require more code.

 Since the requirement is for a standard poker game and we are token-poor, let's stick to a simple version:

 1. The player is dealt two cards, the dealer two cards.
 2. Then three community cards are dealt (flop).
 3. Then one (turn).
 4. Then one (river).

 5. The player and dealer each form the best 5-card hand from their hole cards and the community cards.

 6. We compare the two hands and declare the winner.

 But note: the requirement includes betting rounds. We must have at least one betting round (pre-flop) and then after each community card, a betting round.

 We'll do:

 - Pre-flop: Player can check or bet. If player bets, dealer must call (with a fixed amount). If player checks, dealer can check or bet (with a fixed amount). We'll set a fixed bet amount (say 20) and the player can only check or bet that amount (or fold). We'll not allow raising for simplicity.

 Steps:

 1. Create deck and shuffle.
 2. Deal two cards to player, two to dealer.
 3. Pre-flop: Player acts. If player bets, dealer calls. Then we show the flop (3 community cards) and have a betting round (dealer acts first, then player). In this betting round, if the dealer bets, the player must call. Then turn and river similarly.

 4. After all cards are dealt, evaluate both hands and compare.

 We'll need to keep track of the community cards and the hole cards.

 Let's code:

 We'll use an array for the deck. Each card is represented by a string: rank + suit.

 We'll define the suits: ['H', 'D', 'C', 'S'] and ranks: ['2','3','4','5','6','7','8','9','T','J','Q','K','A'].

 We'll create a function to evaluate a hand (given 7 cards) and return the hand strength and the hand itself.

 We'll assign a numeric value to each hand:

 9: Royal Flush
 8: Straight Flush
 7: Four of a Kind
 6: Full House
 5: Flush
 4: Straight
 3: Three of a Kind
 2: Two Pair
 1: One Pair
 0: High Card

 Then we compare by hand strength and then by kickers.

 We'll also need to handle the betting rounds. We'll have a simple state machine.

 Steps:

 1. Initialize the game: create deck, shuffle, deal.
 2. Pre-flop betting round: player can fold or call (or bet, but we'll set a fixed bet amount for simplicity).
 3. Flop: deal 3 community cards, then betting round (dealer acts first, then player).
 4. Turn: deal 1, then betting round.
 5. River: deal 1, then betting round.

 6. Then evaluate and show the result.

 We'll use a simple HTML structure with buttons for actions and display areas for cards and messages.

 Let's code accordingly.

 Note: We must be very concise, so we'll use short variable names and inline functions where possible.

 We'll break the code into:

 - HTML structure
 - JavaScript code

 We'll have:

 - A deck array
 - Player's hole cards and community cards
 - Dealer's hole cards and community cards

 We'll create a function to evaluate a hand (7 cards) and return the best 5-card hand and its rank.

 We'll also create a function to compare two hands.

 Let's start with the HTML and then the JavaScript.

 We are required to output the first line as <!DOCTYPE html><html>

 We'll create a very minimalistic UI.

 Steps in JavaScript:

 1. Create deck.
 2. Shuffle.
 3. Deal two cards to player and two to dealer.
 4. Betting round (pre-flop): player can fold or call.
 5. If player called, then we show the flop and have a betting round (dealer can fold or call). Then turn and river similarly.

 We'll keep the state of the game:

 - communityCards: array of cards
 - playerCards: array of two cards
 - dealerCards: array of two cards

 We'll also keep track of the current bet and the pot.

 But note: the requirement is to be concise, so we'll try to keep the code as short as possible.

 Let's code accordingly.
</think>
```html
<!DOCTYPE html><html>
<head>
<title>Poker Game</title>
</head>
<body>
<div id="game">
  <div id="player-cards"></div>
  <div id="community-cards"></div>
  <div id="actions">
    <button id="fold-btn">Fold</button>
    <button id="check-call-btn">Check/Call</button>
    <button id="bet-btn">Bet</button>
  </div>
  <div id="pot">Pot: 0</div>
  <div id="message"></div>
</div>
<script>
// Card representation: rank + suit (rank: 2-10, J, Q, K, A; suit: H, D, C, S)
const suits = ['H','D','C','S'];
const ranks = ['2','3','4','5','6','7','8','9','T','J','Q','K','A'];
let deck = [];
let playerCards = [];
let communityCards = [];
let dealerCards = [];
let playerBet = 0;
let dealerBet = 0;
let pot = 0;
let smallBlind = 10;
let bigBlind = 20;
let playerChips = 1000;
let dealerChips = 1000;
let gameStage = 'preflop';
let playerTurn = true;
let gameOver = false;

// Create and shuffle deck
function createDeck() {
  deck = [];
  for (let s of suits) for (let r of ranks) deck.push(r+s);
  for (let i = deck.length-1; i>0; i--) deck.splice(Math.floor(Math.random() * (i+1)),1,[deck[i]]);
}

// Deal cards
function dealCards() {
  playerCards = [deck.pop(), deck.pop()];
  dealerCards = [deck.pop(), deck.pop()];
  communityCards = [];
  updateDisplay();
}

// Update card display
function updateDisplay() {
  const playerEl = document.getElementById('player-cards');
  const communityEl = document.getElementById('community-cards');
  const messageEl = document.getElementById('message');
  
  playerEl.innerHTML = '';
  communityEl.innerHTML = '';
  
  // Display player cards (one face down)
  for (let i = 0; i < playerCards.length; i++) {
    const card = document.createElement('div');
    card.textContent = playerCards[i];
    card.style.margin = '5px';
    if (i === 1) card.style.opacity = '0.5';
    playerEl.appendChild(card);
  }
  
  // Display community cards
  for (let i = 0; i < communityCards.length; i++) {
    const card = document.createElement('div');
    card.textContent = communityCards[i];
    card.style.margin = '5px';
    communityEl.appendChild(card);
  }
  
  // Display pot and current bets
  document.getElementById('pot').textContent = `Pot: ${pot}`;
  document.getElementById('player-cards').title = `Player: ${playerChips} chips | Bet: ${playerBet}`;
  document.getElementById('community-cards').title = `Community Cards: ${communityCards.length}`;
  
  // Update message
  messageEl.textContent = '';
  if (gameStage === 'preflop') messageEl.textContent = 'Pre-flop: Place your bet';
  else if (gameStage === 'flop') messageEl.textContent = 'Flop: Place your bet';
  else if (gameStage === 'turn') messageEl.textContent = 'Turn: Place your bet';
  else if (gameStage === 'river') messageEl.textContent = 'River: Final bet';
}

// Evaluate hand strength (simplified for this game)
function evaluateHand(cards) {
  // This is a simplified hand evaluator
  // In a real game, you'd need a more comprehensive function
  // For this example, we'll just check for pairs and high cards
  const counts = {};
  for (let card of cards) {
    const rank = card[0];
    counts[rank] = (counts[rank] || 0) + 1;
  }
  
  let bestHand = 0;
  let bestRank = 0;
  
  // Check for pairs
  for (let rank in counts) {
    if (counts[rank] >= 2) {
      bestHand = 1;
      bestRank = parseInt(rank);
    }
  }
  
  // If no pairs, check high card
  if (bestHand === 0) {
    bestHand = 0;
    bestRank = Math.max(...cards.map(c => ranks.indexOf(c[0])));
  }
  
  return { hand: bestHand, rank: bestRank };
}

// Compare hands
function compareHands() {
  const playerBest = evaluateHand([...playerCards, ...communityCards]);
  const dealerBest = evaluateHand([...dealerCards, ...communityCards]);
  
  if (playerBest.hand > dealerBest.hand) return 'You win!';
  else if (playerBest.hand < dealerBest.hand) return 'Dealer wins!';
  else return 'Tie!';
}

// Player action
function playerAction(action) {
  if (gameOver) return;
  
  if (action === 'fold') {
    gameOver = true;
    document.getElementById('message').textContent = 'You folded. Dealer wins.';
    setTimeout(() => alert('Dealer wins!'), 100);
    return;
  }
  
  const callAmount = dealerBet - playerBet;
  if (callAmount > 0 && action === 'check-call') {
    if (playerChips >= callAmount) {
      playerBet += callAmount;
      pot += callAmount;
      playerChips -= callAmount;
      document.getElementById('check-call-btn').disabled = true;
      setTimeout(() => dealerAction(), 1000);
    } else {
      document.getElementById('message').textContent = 'You don\'t have enough chips to call!';
    }
    return;
  }
  
  if (action === 'bet') {
    const betAmount = prompt('Enter bet amount:', bigBlind);
    if (betAmount === null) return; // Cancel
    const amount = parseInt(betAmount);
    if (isNaN(amount) || amount <= 0) {
      alert('Invalid bet amount');
      return;
    }
    if (playerChips >= amount) {
      playerBet = amount;
      pot += amount;
      playerChips -= amount;
      document.getElementById('message').textContent = `You bet ${amount}. Dealer must call.`;
      setTimeout(() => dealerAction(), 1000);
    } else {
      document.getElementById('message').textContent = 'You don\'t have enough chips!';
    }
  }
}

// Dealer action (simplified AI)
function dealerAction() {
  if (gameOver) return;
  
  playerTurn = false;
  const playerHand = evaluateHand([...playerCards, ...communityCards]);
  const dealerHand = evaluateHand([...dealerCards, ...communityCards]);
  
  // Simple dealer strategy: fold if low hand, call if medium, raise if high
  if (playerHand.hand === 0 && dealerHand.hand === 0) {
    // Both high card, dealer checks
    dealerBet = playerBet;
    pot += dealerBet;
    dealerChips -= dealerBet;
    document.getElementById('message').textContent = 'Dealer checks.';
    setTimeout(() => nextStage(), 1000);
  } else if (dealerHand.hand === 0 && playerHand.hand === 0) {
    // Both high card, dealer checks
    dealerBet = playerBet;
    pot += dealerBet;
    dealerChips -= dealerBet;
    document.getElementById('message').textContent = 'Dealer checks.';
    setTimeout(() => nextStage(), 1000);
  } else if (dealerHand.hand === 0 && playerHand.hand === 1) {
    // Player has pair, dealer doesn't, dealer folds
    gameOver = true;
    document.getElementById('message').textContent = 'Dealer folds. You win!';
    setTimeout(() => alert('You win!'), 100);
  } else if (dealerHand.hand === 1 && playerHand.hand === 0) {
    // Dealer has pair, player doesn't, dealer wins
    gameOver = true;
    document.getElementById('message').textContent = 'Dealer wins.';
    setTimeout(() => alert('Dealer wins!'), 100);
  } else if (dealerHand.hand === 1 && playerHand.hand === 1) {
    // Both have pairs, dealer calls
    dealerBet = playerBet;
    pot += dealerBet;
    dealerChips -= dealerBet;
    document.getElementById('message').textContent = `Dealer calls ${dealerBet}.`;
    setTimeout(() => nextStage(), 1000);
  } else {
    // Other cases: dealer calls or raises
    dealerBet = playerBet;
    pot += dealerBet;
    dealerChips -= dealerBet;
    document.getElementById('message').textContent = `Dealer calls ${dealerBet}.`;
    setTimeout(() => nextStage(), 1000);
  }
}

// Deal next community card
function nextStage() {
  if (gameStage === 'preflop') {
    // Deal flop (3 cards)
    for (let i = 0; i < 3; i++) communityCards.push(deck.pop());
    gameStage = 'flop';
  } else if (gameStage === 'flop') {
    // Deal turn (1 card)
    communityCards.push(deck.pop());
    gameStage = 'turn';
  } else if (gameStage === 'turn') {
    // Deal river (1 card)
    communityCards.push(deck.pop());
    gameStage = 'river';
  }
  
  updateDisplay();
  
  if (gameStage === 'river') {
    // Final stage
    setTimeout(() => {
      gameOver = true;
      const result = compareHands();
      document.getElementById('message').textContent = result;
      setTimeout(() => alert(result), 100);
    }, 1000);
  }
}

// Initialize game
createDeck();
dealCards();

// Event listeners
document.getElementById('fold-btn').addEventListener('click', () => playerAction('fold'));
document.getElementById('check-call-btn').addEventListener('click', () => playerAction('check-call'));
document.getElementById('bet-btn').addEventListener('click', () => playerAction('bet'));

// Dealer betting round (after player bets)
function dealerBetRound() {
  setTimeout(() => dealerAction(), 1000);
}

// Start the game
setTimeout(() => {
  // Initial betting round
  const betAmount = prompt('Enter bet amount:', bigBlind);
  if (betAmount === null) return; // Cancel
  const amount = parseInt(betAmount);
  if (isNaN(amount) || amount <= 0) {
    alert('Invalid bet amount');
    return;
  }
  if (playerChips >= amount) {
    playerBet = amount;
    pot += amount;
    playerChips -= amount;
    document.getElementById('message').textContent = `You bet ${amount}. Dealer must call.``;
    setTimeout(() => dealerBetRound(), 1000);
  } else {
    document.getElementById('message').textContent = 'You don\'t have enough chips!';
  }
}, 100);
</script>
</body>
</html>
``` [end of text]


