<!DOCTYPE html><html><body><canvas id="c" width="600" height="400"></canvas><script>const C=document.getElementById('c'),W=600,H=400,s=C.getContext('2d');let players=[{n:1,p:[0,50,100,150,200]}];function draw() {s.clearRect(0,0,W,H);players.forEach((p,i,A) => {let x=10+i*120,y=W-70,r=18;let t=p.p.map((v,j)=>v-(18/2)+r*Math.cos(j*2*Math.PI/5)),s.beginPath();t.forEach((a,j)=>j? s.moveTo(x+a,j?0:0):s.lineTo(x+a,0));s.lineTo(x+r,0);s.lineTo(x,18);s.closePath();s.fillStyle='green';s.fill();let h=Math.max(...p.p),b=Math.min(...p.p);if(h-b>18) s.fillStyle='red',s.fillRect(x-b, y-18, h-b,18);if(i==0) s.font='20px monospace';s.fillText(p.n, x+12, y-30);})}function shuffle(a){for(let i=a.length-1;i>0;i--) [a[i],a[Math.floor(Math.random()*--i)]] = [a[Math.floor(Math.random()*--i)],a[i]];return a}function deal() {let d=[0,50,100,150,200];shuffle(d);players[0].p=d}function evaluate(p){let s=[0,0,0,0,0];p.p.forEach((v,i)=>{let c=0;switch(i){case 0:c+=Math.floor(v/1000);break;case 1:c+=Math.floor((v%1000)/200);break;case 2:c+=Math.floor((v%200)/50);break;case 3:c+=Math.floor((v%50)/10);break;case 4:c+=v%10;}}s[c]=s[c]||0+s[c]+1;return s}function cmp(a,b){let e=evaluate(a),f=evaluate(b);for(let i=5;i--){if(e[i]>f[i])return 1;if(e[i]<f[i])return-1}return 0}function minmax(a,b){let e=evaluate(a),f=evaluate(b);if(cmp(a,b)<0)return a;if(cmp(a,b)>0)return b;return a}function findBest(players,me){let best=me,bb=evaluate(me);for(let p of players){if(p!==me&&cmp(p,me)>0)best=p;bb=cmp(p,me)>0?cmp(p,me):0}return minmax([best,me],bb>0?best:me)}function update() {let me=players[0],p=findBest(players,me);players[0]=p;draw();requestAnimationFrame(update)}deal();update();</script></body></html> [end of text]


