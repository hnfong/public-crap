<!DOCTYPE html><html>
<head><title>Neon Solitaire</title>
<style>
body{background:#111;color:#fff;font-family:sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;margin:0;overflow:hidden;user-select:none}
#game{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;width:95vw;max-width:800px}
.slot{width:100%;aspect-ratio:2/3;border:2px dashed #444;border-radius:8px;position:relative;background:#1a1a1a}
.card{width:100%;height:100%;position:absolute;top:0;left:0;border-radius:6px;display:flex;flex-direction:column;justify-content:space-between;padding:5px;box-sizing:border-box;cursor:pointer;transition:transform 0.2s,box-shadow 0.2s;background:#fff;color:#000;font-weight:bold;font-size:1.2rem;box-shadow:0 4px 6px rgba(0,0,0,0.3)}
.card.red{color:#f00}
.card.black{color:#000}
.card.face-down{background:linear-gradient(45deg,#333,#555);color:transparent;border:1px solid #777}
.card.face-down::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;border:2px solid #888;border-radius:50%}
.card:hover{transform:translateY(-5px);box-shadow:0 8px 12px rgba(0,0,0,0.5);z-index:100}
.card.selected{border:2px solid #0f0;box-shadow:0 0 15px #0f0}
#controls{margin-top:20px;display:flex;gap:10px}
button{padding:10px 20px;background:#333;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem}
button:hover{background:#555}
#message{position:absolute;top:20px;font-size:1.5rem;color:#0f0;text-shadow:0 0 10px #0f0;opacity:0;transition:opacity 0.5s}
</style></head>
<body>
<div id="message">YOU WIN!</div>
<div id="game"></div>
<div id="controls"><button onclick="initGame()">New Game</button></div>
<script>
const suits=['♠','♥','♦','♣'];const values=['A','2','3','4','5','6','7','8','9','10','J','Q','K'];let deck=[];let piles=[[],[],[],[],[],[],[]];let foundations=[[],[],[],[]];let selected=null;let selectedPile=null;
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}}
function createDeck(){deck=[];for(let s of suits){for(let i=0;i<values.length;i++){deck.push({suit:s,value:values[i],rank:i+1,color:(s==='♥'||s==='♦')?'red':'black',faceUp:false})}}}
function initGame(){createDeck();shuffle(deck);piles=[[],[],[],[],[],[],[]];foundations=[[],[],[],[]];selected=null;selectedPile=null;document.getElementById('message').style.opacity=0;
let p=0;for(let i=0;i<7;i++){for(let j=0;j<=i;j++){let c=deck.pop();if(j===i)c.faceUp=true;piles[i].push(c)}}
while(deck.length>0){for(let i=0;i<7&&deck.length>0;i++){piles[i].push(deck.pop())}}
render()}
function render(){const g=document.getElementById('game');g.innerHTML='';
for(let i=0;i<7;i++){let slot=document.createElement('div');slot.className='slot';slot.dataset.pile=i;slot.dataset.type='pile';slot.onclick=()=>onSlotClick(i,'pile');
if(piles[i].length===0){slot.innerHTML='<span style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#444;font-size:2rem">+</span>'}
else{piles[i].forEach((c,idx)=>{let card=createCardEl(c,idx===piles[i].length-1);card.style.top=(idx*25)+'px';if(selected&&selectedPile===i&&idx===selected){card.classList.add('selected')}
card.onclick=(e)=>{e.stopPropagation();onCardClick(i,idx)};slot.appendChild(card)})}
g.appendChild(slot)}
for(let i=0;i<4;i++){let slot=document.createElement('div');slot.className='slot';slot.dataset.foundation=i;slot.dataset.type='foundation';slot.onclick=()=>onSlotClick(i,'foundation');
if(foundations[i].length>0){let c=foundations[i][foundations[i].length-1];let card=createCardEl(c,true);card.onclick=(e)=>{e.stopPropagation();onFoundationClick(i)};slot.appendChild(card)}
g.appendChild(slot)}}
function createCardEl(c,isTop){let el=document.createElement('div');el.className=`card ${c.color} ${c.faceUp?'':'face-down'}`;if(c.faceUp){el.innerHTML=`<div>${c.value}</div><div style="font-size:2rem;text-align:center">${c.suit}</div><div style="transform:rotate(180deg)">${c.value}</div>`}return el}
function onCardClick(pileIdx,cardIdx){let pile=piles[pileIdx];if(cardIdx<pile.length-1&&!pile[cardIdx].faceUp)return;
if(selected!==null&&selectedPile===pileIdx&&cardIdx===selected){selected=null;selectedPile=null}else if(selected===null){if(!pile[cardIdx].faceUp)return;selected=cardIdx;selectedPile=pileIdx}else{tryMove(pileIdx,cardIdx)}}
function onSlotClick(idx,type){if(selected===null)return;
if(type==='pile'){moveToPile(idx)}else if(type==='foundation'){moveToFoundation(idx)}}
function onFoundationClick(fIdx){if(selected===null)return;moveToFoundation(fIdx)}
function tryMove(targetPile,cardIdx){let sourcePile=piles[selectedPile];let movingCards=sourcePile.slice(selected);let targetCard=piles[targetPile].length>0?piles[targetPile][piles[targetPile].length-1]:null;
if(canPlace(movingCards[0],targetCard)){executeMove(targetPile)}else{selected=null;selectedPile=null}}
function moveToPile(targetIdx){let sourcePile=piles[selectedPile];let movingCards=sourcePile.slice(selected);let targetCard=piles[targetIdx].length>0?piles[targetIdx][piles[targetIdx].length-1]:null;
if(canPlace(movingCards[0],targetCard)){executeMove(targetIdx)}else{selected=null;selectedPile=null}}
function moveToFoundation(fIdx){let sourcePile=piles[selectedPile];let card=sourcePile[selected];if(selected!==sourcePile.length-1){selected=null;selectedPile=null;return}
let foundation=foundations[fIdx];let topCard=foundation.length>0?foundation[foundation.length-1]:null;
if(canPlaceOnFoundation(card,topCard)){sourcePile.pop();if(sourcePile.length>0)sourcePile[sourcePile.length-1].faceUp=true;foundation.push(card);checkWin();selected=null;selectedPile=null;render()}else{selected=null;selectedPile=null}}
function canPlace(card,target){if(!target)return card.rank===13;return card.color!==target.color&&card.rank===target.rank-1}
function canPlaceOnFoundation(card,target){if(!target)return card.rank===1;return card.suit===target.suit&&card.rank===target.rank+1}
function executeMove(targetIdx){let sourcePile=piles[selectedPile];let movingCards=sourcePile.splice(selected);piles[targetIdx].push(...movingCards);
if(sourcePile.length>0)sourcePile[sourcePile.length-1].faceUp=true;selected=null;selectedPile=null;render()}
function checkWin(){let total=0;for(let f of foundations)total+=f.length;if(total===52){document.getElementById('message').style.opacity=1}}
initGame();
</script></body></html> [end of text]


