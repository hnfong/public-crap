==========
<!DOCTYPE html><html><head><style>body{font-family:Arial;margin:0;overflow:hidden}#game{width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#0a4d0a}#board{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;padding:20px;max-width:1200px}#stock,#waste{display:flex;align-items:center;justify-content:center}#foundations{display:contents}.card{width:80px;height:110px;border-radius:8px;position:relative;cursor:pointer;user-select:none;transition:transform 0.2s}.card:hover{transform:translateY(-5px)}.card.face-down{background:#1a5490;border:2px solid #0d3d6c}.card.face-up{background:white;border:2px solid #333;display:flex;flex-direction:column;align-items:center;justify-content:center}.card.red{color:red}.card.black{color:black}.card .rank{font-size:24px;font-weight:bold}.card .suit{font-size:28px}.pile{min-height:120px;border:2px dashed rgba(255,255,255,0.3);border-radius:8px;display:flex;flex-direction:column;align-items:center;position:relative}.pile.highlight{border-color:yellow;box-shadow:0 0 10px yellow}.pile .card{position:absolute;margin-top:-90px}.pile .card:nth-child(1){margin-top:0}.pile .card:nth-child(2){margin-top:-20px}.pile .card:nth-child(3){margin-top:-40px}.pile .card:nth-child(4){margin-top:-60px}.pile .card:nth-child(5){margin-top:-80px}.pile .card:nth-child(6){margin-top:-100px}.pile .card:nth-child(7){margin-top:-120px}#controls{margin-bottom:20px}button{padding:10px 20px;background:#4CAF50;color:white;border:none;border-radius:4px;cursor:pointer;font-size:16px}button:hover{background:#45a049}#message{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);color:white;padding:15px 25px;border-radius:5px;display:none}</style></head><body><div id="game"><div id="controls"><button onclick="newGame()">New Game</button></div><div id="board"><div id="stock" class="pile" onclick="drawCard()"></div><div id="waste" class="pile"></div><div class="pile foundation" data-foundation="0"></div><div class="pile foundation" data-foundation="1"></div><div class="pile foundation" data-foundation="2"></div><div class="pile foundation" data-foundation="3"></div><div class="pile tableau" data-tableau="0"></div><div class="pile tableau" data-tableau="1"></div><div class="pile tableau" data-tableau="2"></div><div class="pile tableau" data-tableau="3"></div><div class="pile tableau" data-tableau="4"></div><div class="pile tableau" data-tableau="5"></div><div class="pile tableau" data-tableau="6"></div></div></div><div id="message"></div><script>const suits=['♠','♥','♦','♣'];const ranks=['A','2','3','4','5','6','7','8','9','10','J','Q','K'];let deck=[];let stock=[];let waste=[];let foundations=[[],[],[],[]];let tableau=[[],[],[],[],[],[],[]];let selectedCard=null;let selectedPile=null;function initDeck(){deck=[];for(let s=0;s<suits.length;s++){for(let r=0;r<ranks.length;r++){deck.push({suit:suits[s],rank:ranks[r],color:(s===1||s===2)?'red':'black',value:r+1,faceUp:false});}}shuffleDeck();}function shuffleDeck(){for(let i=deck.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[deck[i],deck[j]]=[deck[j],deck[i]];}}function dealCards(){stock=[...deck];waste=[];foundations=[[],[],[],[]];tableau=[[],[],[],[],[],[],[]];for(let i=0;i<7;i++){for(let j=0;j<=i;j++){const card=stock.pop();if(j===i)card.faceUp=true;tableau[i].push(card);}}renderGame();}function renderGame(){renderStock();renderWaste();renderFoundations();renderTableau();}function renderStock(){const stockEl=document.getElementById('stock');stockEl.innerHTML='';if(stock.length>0){const cardEl=createCardElement(stock[stock.length-1],false);stockEl.appendChild(cardEl);}}function renderWaste(){const wasteEl=document.getElementById('waste');wasteEl.innerHTML='';if(waste.length>0){const card=waste[waste.length-1];const cardEl=createCardElement(card,true);cardEl.onclick=()=>selectCard(card,waste,'waste');wasteEl.appendChild(cardEl);}}function renderFoundations(){for(let i=0;i<4;i++){const foundationEl=document.querySelector(`.foundation[data-foundation="${i}"]`);foundationEl.innerHTML='';if(foundations[i].length>0){const card=foundations[i][foundations[i].length-1];const cardEl=createCardElement(card,true);cardEl.onclick=()=>selectCard(card,foundations[i],`foundation-${i}`);foundationEl.appendChild(cardEl);}}}function renderTableau(){for(let i=0;i<7;i++){const tableauEl=document.querySelector(`.tableau[data-tableau="${i}"]`);tableauEl.innerHTML='';tableau[i].forEach((card,index)=>{const cardEl=createCardElement(card,card.faceUp);cardEl.style.marginTop=`${index*20}px`;if(card.faceUp){cardEl.onclick=()=>selectCard(card,tableau[i],`tableau-${i}`);}tableauEl.appendChild(cardEl);});}}function createCardElement(card,faceUp){const cardEl=document.createElement('div');cardEl.className=`card ${faceUp?'face-up':'face-down'} ${card.color}`;if(faceUp){cardEl.innerHTML=`<div class="rank">${card.rank}</div><div class="suit">${card.suit}</div>`;}return cardEl;}function selectCard(card,pile,pileId){selectedCard=card;selectedPile={pile,pileId};highlightValidMoves();}function highlightValidMoves(){clearHighlights();if(!selectedCard)return;const isAce=selectedCard.rank==='A';const isKing=selectedCard.rank==='K';if(selectedPile.pileId.startsWith('foundation')){for(let i=0;i<7;i++){const tableauPile=tableau[i];if(tableauPile.length===0&&isKing){document.querySelector(`.tableau[data-tableau="${i}"]`).classList.add('highlight');}else if(tableauPile.length>0){const topCard=tableauPile[tableauPile.length-1];if(topCard.faceUp&&canPlaceOnTableau(selectedCard,topCard)){document.querySelector(`.tableau[data-tableau="${i}"]`).classList.add('highlight');}}}}else{for(let i=0;i<4;i++){const foundationPile=foundations[i];if(foundationPile.length===0&&isAce){document.querySelector(`.foundation[data-foundation="${i}"]`).classList.add('highlight');}else if(foundationPile.length>0){const topCard=foundationPile[foundationPile.length-1];if(canPlaceOnFoundation(selectedCard,topCard)){document.querySelector(`.foundation[data-foundation="${i}"]`).classList.add('highlight');}}}}}function clearHighlights(){document.querySelectorAll('.pile').forEach(pile=>{pile.classList.remove('highlight');});}function canPlaceOnFoundation(card,topCard){return card.suit===topCard.suit&&card.value===topCard.value+1;}function canPlaceOnTableau(card,topCard){return card.color!==topCard.color&&card.value===topCard.value-1;}function drawCard(){if(stock.length===0){if(waste.length===0)return;stock=[...waste.reverse()];waste=[];stock.forEach(card=>card.faceUp=false);}else{const card=stock.pop();card.faceUp=true;waste.push(card);}renderGame();}function newGame(){initDeck();dealCards();}document.addEventListener('click',e=>{if(e.target.classList.contains('pile')&&e.target.classList.contains('highlight')){moveCard(e.target);}});function moveCard(targetPileEl){if(!selectedCard||!selectedPile)return;let targetPile,targetPileId;if(targetPileEl.classList.contains('foundation')){targetPileId=parseInt(targetPileEl.dataset.foundation);targetPile=foundations[targetPileId];}else if(targetPileEl.classList.contains('tableau')){targetPileId=parseInt(targetPileEl.dataset.tableau);targetPile=tableau[targetPileId];}else return;if(selectedPile.pileId.startsWith('foundation')){selectedPile.pile.pop();}else
==========
Prompt: 151 tokens, 116.300 tokens-per-sec
Generation: 2048 tokens, 20.767 tokens-per-sec
Peak memory: 199.473 GB
