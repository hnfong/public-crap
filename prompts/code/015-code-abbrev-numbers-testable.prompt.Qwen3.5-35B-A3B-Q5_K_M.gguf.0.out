```python
def abbrev_num(x):
    if x < 1000:
        return str(x)
    
    suffixes = ['K', 'M', 'B', 'T']
    num = float(x)
    suffix_index = 0
    
    while num >= 1000 and suffix_index < len(suffixes):
        num /= 1000
        suffix_index += 1
    
    # Format to 1 decimal place if needed, but ensure total length <= 4
    if num >= 100:
        # Should not happen given the loop condition, but safety check
        return str(int(num)) + suffixes[suffix_index - 1] if suffix_index > 0 else str(int(num))
    
    # Try 1 decimal place
    formatted = f"{num:.1f}"
    if len(formatted) + len(suffixes[suffix_index]) <= 4:
        return formatted + suffixes[suffix_index]
    
    # If 1 decimal place is too long, round to integer
    return f"{int(round(num))}" + suffixes[suffix_index]
``` [end of text]


